{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\sameh\\\\OneDrive\\\\Documents\\\\Desktop\\\\Horloge2\\\\travail22025\\\\src\\\\JeuxHorloge\\\\Horloge.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport PileHorloge from \"./PileHorloge\";\nimport { Deck } from \"./Deck\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Horloge = () => {\n  _s();\n  const [etat, setEtat] = useState({\n    piles: Array(12).fill(null).map(() => ({\n      cartes: []\n    })),\n    pileCentrale: {\n      cartes: []\n    },\n    paquet: [],\n    cartesRevelees: []\n  });\n  useEffect(() => {\n    const initialiserJeu = async () => {\n      const nouveauPaquet = await Deck.creerPaquet();\n      setEtat(ancienEtat => ({\n        ...ancienEtat,\n        paquet: nouveauPaquet\n      }));\n      distribuerCartes(nouveauPaquet);\n    };\n    initialiserJeu();\n  }, []);\n  const distribuerCartes = paquet => {\n    const piles = Array(12).fill(null).map(() => ({\n      cartes: []\n    }));\n    const pileCentrale = {\n      cartes: []\n    };\n    let indexCarte = 0;\n    paquet.sort(() => Math.random() - 0.5);\n    for (let i = 0; i < 4; i++) {\n      for (let j = 0; j < 12; j++) {\n        piles[j].cartes.push({\n          ...paquet[indexCarte],\n          faceVisible: false\n        });\n        indexCarte++;\n      }\n    }\n    for (let i = 0; i < 4; i++) {\n      pileCentrale.cartes.push({\n        ...paquet[indexCarte],\n        faceVisible: false\n      });\n      indexCarte++;\n    }\n    pileCentrale.cartes[3].faceVisible = true;\n    setEtat(ancienEtat => ({\n      ...ancienEtat,\n      piles,\n      pileCentrale,\n      cartesRevelees: [pileCentrale.cartes[3]]\n    }));\n  };\n  const getCorrectPosition = value => {\n    var _valueMap$value;\n    const valueMap = {\n      \"ACE\": 0,\n      \"2\": 1,\n      \"3\": 2,\n      \"4\": 3,\n      \"5\": 4,\n      \"6\": 5,\n      \"7\": 6,\n      \"8\": 7,\n      \"9\": 8,\n      \"10\": 9,\n      \"JACK\": 10,\n      \"QUEEN\": 11,\n      \"KING\": 12\n    };\n    return (_valueMap$value = valueMap[value]) !== null && _valueMap$value !== void 0 ? _valueMap$value : -1;\n  };\n  const deplacerCarte = () => {\n    setEtat(ancienEtat => {\n      let nouvellesPiles = [...ancienEtat.piles];\n      let nouvellePileCentrale = {\n        ...ancienEtat.pileCentrale\n      };\n      let carteCourante = nouvellePileCentrale.cartes.find(c => c.faceVisible) || null;\n      if (!carteCourante) return ancienEtat;\n      let indexPileDestination = getCorrectPosition(carteCourante.value);\n      if (indexPileDestination === -1) return ancienEtat;\n      nouvellesPiles[indexPileDestination].cartes.unshift({\n        ...carteCourante,\n        faceVisible: true\n      });\n      nouvellePileCentrale.cartes = nouvellePileCentrale.cartes.filter(c => c.code !== carteCourante.code);\n      if (carteCourante.value === \"KING\" && nouvellesPiles[12].cartes.length === 4) {\n        alert(\"Félicitations ! Vous avez gagné !\");\n      } else {\n        let nouvelleCarte = nouvellePileCentrale.cartes.find(c => !c.faceVisible);\n        if (nouvelleCarte) nouvelleCarte.faceVisible = true;\n      }\n      return {\n        ...ancienEtat,\n        piles: nouvellesPiles,\n        pileCentrale: nouvellePileCentrale,\n        cartesRevelees: [...ancienEtat.cartesRevelees, carteCourante]\n      };\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container text-center mt-5\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Clock Solitaire\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"position-relative\",\n      style: {\n        width: \"500px\",\n        height: \"500px\",\n        margin: \"0 auto\"\n      },\n      children: [etat.piles.map((pile, index) => {\n        const angle = (index - 3) * 30 * (Math.PI / 180);\n        const radius = 180;\n        const x = 250 + radius * Math.cos(angle);\n        const y = 250 + radius * Math.sin(angle);\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"position-absolute\",\n          style: {\n            left: `${x}px`,\n            top: `${y}px`,\n            transform: \"translate(-50%, -50%)\"\n          },\n          children: /*#__PURE__*/_jsxDEV(PileHorloge, {\n            pile: pile.cartes,\n            indexPile: index,\n            deplacerCarte: deplacerCarte,\n            centrale: false\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 15\n          }, this)\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 13\n        }, this);\n      }), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"position-absolute top-50 start-50 translate-middle\",\n        children: /*#__PURE__*/_jsxDEV(PileHorloge, {\n          pile: etat.pileCentrale.cartes,\n          indexPile: -1,\n          deplacerCarte: deplacerCarte,\n          centrale: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 93,\n    columnNumber: 5\n  }, this);\n};\n_s(Horloge, \"+7vL2O2fCXfbbalRwwXYZMVIJg8=\");\n_c = Horloge;\nexport default Horloge;\nvar _c;\n$RefreshReg$(_c, \"Horloge\");","map":{"version":3,"names":["React","useState","useEffect","PileHorloge","Deck","jsxDEV","_jsxDEV","Horloge","_s","etat","setEtat","piles","Array","fill","map","cartes","pileCentrale","paquet","cartesRevelees","initialiserJeu","nouveauPaquet","creerPaquet","ancienEtat","distribuerCartes","indexCarte","sort","Math","random","i","j","push","faceVisible","getCorrectPosition","value","_valueMap$value","valueMap","deplacerCarte","nouvellesPiles","nouvellePileCentrale","carteCourante","find","c","indexPileDestination","unshift","filter","code","length","alert","nouvelleCarte","className","children","fileName","_jsxFileName","lineNumber","columnNumber","style","width","height","margin","pile","index","angle","PI","radius","x","cos","y","sin","left","top","transform","indexPile","centrale","_c","$RefreshReg$"],"sources":["C:/Users/sameh/OneDrive/Documents/Desktop/Horloge2/travail22025/src/JeuxHorloge/Horloge.tsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport PileHorloge from \"./PileHorloge\";\nimport { Deck } from \"./Deck\";\nimport { EtatApp, CarteH } from \"./Types\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\n\nconst Horloge: React.FC = () => {\n  const [etat, setEtat] = useState<EtatApp>({\n    piles: Array(12).fill(null).map(() => ({ cartes: [] as CarteH[] })),\n    pileCentrale: { cartes: [] as CarteH[] },\n    paquet: [],\n    cartesRevelees: [],\n  });\n\n  useEffect(() => {\n    const initialiserJeu = async () => {\n      const nouveauPaquet = await Deck.creerPaquet();\n      setEtat((ancienEtat) => ({ ...ancienEtat, paquet: nouveauPaquet }));\n      distribuerCartes(nouveauPaquet);\n    };\n    initialiserJeu();\n  }, []);\n\n  const distribuerCartes = (paquet: CarteH[]) => {\n    const piles = Array(12).fill(null).map(() => ({ cartes: [] as CarteH[] }));\n    const pileCentrale = { cartes: [] as CarteH[] };\n    let indexCarte = 0;\n\n    paquet.sort(() => Math.random() - 0.5);\n\n    for (let i = 0; i < 4; i++) {\n      for (let j = 0; j < 12; j++) {\n        piles[j].cartes.push({ ...paquet[indexCarte], faceVisible: false });\n        indexCarte++;\n      }\n    }\n\n    for (let i = 0; i < 4; i++) {\n      pileCentrale.cartes.push({ ...paquet[indexCarte], faceVisible: false });\n      indexCarte++;\n    }\n\n    pileCentrale.cartes[3].faceVisible = true;\n\n    setEtat((ancienEtat) => ({\n      ...ancienEtat,\n      piles,\n      pileCentrale,\n      cartesRevelees: [pileCentrale.cartes[3]],\n    }));\n  };\n\n  const getCorrectPosition = (value: string): number => {\n    const valueMap: { [key: string]: number } = {\n      \"ACE\": 0,\n      \"2\": 1, \"3\": 2, \"4\": 3, \"5\": 4, \"6\": 5, \"7\": 6, \"8\": 7, \"9\": 8, \"10\": 9,\n      \"JACK\": 10, \"QUEEN\": 11, \"KING\": 12\n    };\n    return valueMap[value] ?? -1;\n  };\n\n  const deplacerCarte = () => {\n    setEtat((ancienEtat) => {\n      let nouvellesPiles = [...ancienEtat.piles];\n      let nouvellePileCentrale = { ...ancienEtat.pileCentrale };\n      let carteCourante = nouvellePileCentrale.cartes.find(c => c.faceVisible) || null;\n      \n      if (!carteCourante) return ancienEtat;\n      \n      let indexPileDestination = getCorrectPosition(carteCourante.value);\n      if (indexPileDestination === -1) return ancienEtat;\n      \n      nouvellesPiles[indexPileDestination].cartes.unshift({ ...carteCourante, faceVisible: true });\n      nouvellePileCentrale.cartes = nouvellePileCentrale.cartes.filter(c => c.code !== carteCourante.code);\n\n      if (carteCourante.value === \"KING\" && nouvellesPiles[12].cartes.length === 4) {\n        alert(\"Félicitations ! Vous avez gagné !\");\n      } else {\n        let nouvelleCarte = nouvellePileCentrale.cartes.find(c => !c.faceVisible);\n        if (nouvelleCarte) nouvelleCarte.faceVisible = true;\n      }\n      \n      return {\n        ...ancienEtat,\n        piles: nouvellesPiles,\n        pileCentrale: nouvellePileCentrale,\n        cartesRevelees: [...ancienEtat.cartesRevelees, carteCourante],\n      };\n    });\n  };\n\n  return (\n    <div className=\"container text-center mt-5\">\n      <h1>Clock Solitaire</h1>\n      <div className=\"position-relative\" style={{ width: \"500px\", height: \"500px\", margin: \"0 auto\" }}>\n        {etat.piles.map((pile, index) => {\n          const angle = ((index - 3) * 30) * (Math.PI / 180);\n          const radius = 180;\n          const x = 250 + radius * Math.cos(angle);\n          const y = 250 + radius * Math.sin(angle);\n          return (\n            <div key={index} className=\"position-absolute\" style={{ left: `${x}px`, top: `${y}px`, transform: \"translate(-50%, -50%)\" }}>\n              <PileHorloge pile={pile.cartes} indexPile={index} deplacerCarte={deplacerCarte} centrale={false} />\n            </div>\n          );\n        })}\n        <div className=\"position-absolute top-50 start-50 translate-middle\">\n          <PileHorloge pile={etat.pileCentrale.cartes} indexPile={-1} deplacerCarte={deplacerCarte} centrale={true} />\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Horloge;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}